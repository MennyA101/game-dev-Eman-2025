<h6> Version 0.0.1 </h6>

<body id="myBody" style="background-repeat:repeat; background-size: 80%; background-color: #70c5ce;" background="myBackground01.jpg">

<h1 align=center>Flappy Bird Level 1</h1>
<h3 align=center id="myStatus">Use WASD to pass the pipe!</h3>

<script>
   // global variables
   let myGlobalX = 0
   let myClock

   function myHitOther(my1, my2){
       left1   = parseInt(document.getElementById(my1).style.left)
       right1  = left1 + parseInt(document.getElementById(my1).style.width)
       top1    = parseInt(document.getElementById(my1).style.top)   
       bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
       left2   = parseInt(document.getElementById(my2).style.left)
       right2  = left2 + parseInt(document.getElementById(my2).style.width)
       top2    = parseInt(document.getElementById(my2).style.top)   
       bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
       
       if ((right1 >= left2) && (bottom1 >= top2) && (left1 <= right2) && (top1 <= bottom2)){
           return true
       }
   }

   function myCheckHit(){
       // 1. Check if you hit the pipe (Lose condition)
       if (myHitOther('myBird', 'myPipe')){
           alert('You hit the pipe! Try again.')
           document.getElementById('myBird').style.left = '50px'
           document.getElementById('myBird').style.top = '200px'
       }

       // 2. Check if you passed the pipe (Win condition)
       let birdLeft = parseInt(document.getElementById('myBird').style.left)
       let pipeLeft = parseInt(document.getElementById('myPipe').style.left)
       let pipeWidth = parseInt(document.getElementById('myPipe').style.width)

       if (birdLeft > (pipeLeft + pipeWidth)){
           alert('Level 1 Complete! Going to Level 2...')
           // This is the link to your Level 2
           location = 'https://mennya101.github.io/game-dev-Eman-2025/FlappyBird/FlappyBird.html'
       }
   }

   // WASD Movement
   document.addEventListener('keydown', (e) => {
       let bird = document.getElementById('myBird')
       let speed = 15
       if (e.key.toLowerCase() == 'w') bird.style.top = (parseInt(bird.style.top) - speed) + 'px'
       if (e.key.toLowerCase() == 's') bird.style.top = (parseInt(bird.style.top) + speed) + 'px'
       if (e.key.toLowerCase() == 'a') bird.style.left = (parseInt(bird.style.left) - speed) + 'px'
       if (e.key.toLowerCase() == 'd') bird.style.left = (parseInt(bird.style.left) + speed) + 'px'
       
       myCheckHit() // Check for win/loss after every move
   })
</script>

<img id="myBird" style="position:absolute; width:60px; height:45px; top:200px; left:50px;" 
     src="https://raw.githubusercontent.com/sourabhv/FlapPyBird/master/assets/sprites/yellowbird-midflap.png">

<img id="myPipe" style="position:absolute; width:80px; height:400px; top:0px; left:400px;" 
     src="https://raw.githubusercontent.com/sourabhv/FlapPyBird/master/assets/sprites/pipe-green.png">

<div style="margin-top: 450px; text-align: center;">
    <input type="button" value="Restart Level" onclick="location.reload()">
    
    <input type="button" value="Auto Background Scroll" onclick="{
      clearInterval(myClock)
      myClock = setInterval(function(){
          myGlobalX -= 5
          document.getElementById('myBody').style.backgroundPosition = myGlobalX + 'px 0px'
      }, 100)
    }">
</div>

</body>
