<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WASD Level Navigation</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #70c5ce;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  canvas {
    display: block;
    margin: 20px auto;
    background: #4ec0ca;
    border: 4px solid #fff;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
  }

  #message {
    position: absolute;
    top: 50%;
    width: 100%;
    text-align: center;
    font-size: 40px;
    font-weight: bold;
    color: white;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    pointer-events: none; /* Allows clicking "through" the text */
  }
</style>
</head>
<body>

<div id="message">Use WASD to reach the other side!</div>
<canvas id="game" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let bird, pipe, gameCompleted = false;
const keys = {};

function init() {
  // Initial bird state (Direct control, no gravity)
  bird = {
    x: 50,
    y: 200,
    radius: 15,
    speed: 5
  };

  // A single stationary pipe image-like object
  pipe = {
    x: 400,
    width: 60,
    gapTop: 120,    // Where the hole starts
    gapHeight: 160  // How big the hole is
  };

  gameCompleted = false;
}

// Event Listeners for WASD
window.addEventListener("keydown", e => keys[e.code] = true);
window.addEventListener("keyup", e => keys[e.code] = false);

function update() {
  if (gameCompleted) return;

  // Movement Logic
  if (keys["KeyW"] || keys["ArrowUp"])    bird.y -= bird.speed;
  if (keys["KeyS"] || keys["ArrowDown"])  bird.y += bird.speed;
  if (keys["KeyA"] || keys["ArrowLeft"])  bird.x -= bird.speed;
  if (keys["KeyD"] || keys["ArrowRight"]) bird.x += bird.speed;

  // Screen Boundaries
  if (bird.x < bird.radius) bird.x = bird.radius;
  if (bird.y < bird.radius) bird.y = bird.radius;
  if (bird.y > canvas.height - bird.radius) bird.y = canvas.height - bird.radius;

  // Check Completion (Going past the pipe)
  if (bird.x > pipe.x + pipe.width) {
    gameCompleted = true;
    document.getElementById("message").innerHTML = "Level Completed!";
    document.getElementById("message").style.color = "#FFD700"; // Gold color
  }
}

function draw() {
  // Clear background
  ctx.fillStyle = "#4ec0ca";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // Draw the Stationary Pipe
  ctx.fillStyle = "#73bf2e"; // Green
  ctx.strokeStyle = "#558022"; // Darker green border
  ctx.lineWidth = 4;

  // Top part of pipe
  ctx.fillRect(pipe.x, 0, pipe.width, pipe.gapTop);
  ctx.strokeRect(pipe.x, 0, pipe.width, pipe.gapTop);
  
  // Bottom part of pipe
  ctx.fillRect(pipe.x, pipe.gapTop + pipe.gapHeight, pipe.width, canvas.height);
  ctx.strokeRect(pipe.x, pipe.gapTop + pipe.gapHeight, pipe.width, canvas.height);

  // Draw the "Bird" (Player)
  ctx.fillStyle = "yellow";
  ctx.beginPath();
  ctx.arc(bird.x, bird.y, bird.radius, 0, Math.PI * 2);
  ctx.fill();
  ctx.strokeStyle = "orange";
  ctx.stroke();
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

// Start the game
init();
loop();
</script>

</body>
</html>
